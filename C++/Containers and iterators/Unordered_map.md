## Общая идея
В общем векторе хранятся **итераторы** на ноды, **пару ключ-значение и хеш**. 

## Реализация операций
***find*** проходим по общему вектору, если нашли нужный хеш, то по итератору ищем в односвязном списке элемент с нужным ключом
***insert*** докаладываем в начало/конец бакета элемент. Если ключ новый (бакет по этому ключу пустой), докладываем в начало forward_list'а, и у первого элемента в forward_list обновляем итератор с фейковой вершины на новую (для этого обращаемся к массиву по хешу). 
***erase*** удаление последнего элемента в бакете:
Если элемент единственный:
	1. Обращаемся к вектору по хешу удаляемого элемента. (находим итератор на предыдущий бакет)
	2. Удаляем его.
	3. Обращаемся по хешу следующего элемента и находим итератор, указывающий на удяляемый элемент. 
	4. Ставим итератор на предыдущий бакет.
Если элемент не единственный:
	1. Обращаемся к вектору по хешу удаляемого элемента. (находим итератор на предыдущий бакет)
	2. Двигаем итератор до вершины перед удаляемой
	3. Переставляем итератор, указывающий на удаляемый элемент

***rehash*** идем по forward_list, erase из него и insert в новый. (не удаляем вершину, переставляем указатели)
	exception_safety: не используются hash и сравнение при rehash

 > 
 > Не инвалидируются указатели и ссылки при insert, erase, rehash
 > Итератор инвалидируется (непонятно почему)
 > 
![[unordered_map.png]]